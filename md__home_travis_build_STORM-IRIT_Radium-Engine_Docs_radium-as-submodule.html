<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Radium Engine: How to use Radium-Engine as an external dynamic lib for your project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Radium Engine
   &#160;<span id="projectnumber">cfaf279965857219995329eb5963f4bb9bd4609e</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__home_travis_build_STORM-IRIT_Radium-Engine_Docs_radium-as-submodule.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">How to use Radium-Engine as an external dynamic lib for your project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Fork from AppExample</h2>
<p>You can start by forking <a href="https://github.com/STORM-IRIT/Radium-AppExample">https://github.com/STORM-IRIT/Radium-AppExample</a>. It already contains Radium as a submodule and a <code>build-radium.sh</code> script in the external directory.</p>
<h2>Radium as a submodule of your own project</h2>
<p>You can clone Radium, or add it as a submodule of your git project. For instance if you want Radium in <code>myproject/external/Radium-Engine</code></p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir external</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;git submodule add https://github.com/STORM-IRIT/Radium-Engine/ </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;external/Radium-Engine --recursive</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;git submodule update --init --recursive</div></div><!-- fragment --><p>This corresponds to </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;.gitmodules</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;[submodule &quot;Radium-Engine&quot;]</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        path = external/Radium-Engine</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        url = https://github.com/STORM-IRIT/Radium-Engine</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        branch = master</div></div><!-- fragment --><h2>Add Radium to your project using CMake <code>find_package</code> and out-of-project build</h2>
<p>Add the following line to include the Radium-Engine cmake module in your main <code>CMakeLists.txt</code>: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;set(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/external/Radium-Engine/cmake)</div></div><!-- fragment --><p>Add the following line in the <code>CMakeLists.txt</code> of your application that need Radium as a library </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;find_package(Radium REQUIRED)</div></div><!-- fragment --><p> Setting the <code>RADIUM_ROOT</code> variable before the <code>find_package</code>command might be needed to help cmake find the Radium directories: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;set(RADIUM_ROOT &quot;../external/Radium-Engine&quot;)</div></div><!-- fragment --><p>The find package script will will define the following cmake variables: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;${RADIUM_INCLUDE_DIR}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;${EIGEN_INCLUDE_DIR}</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;${ASSIMP_INCLUDE_DIR}</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;${RADIUM_LIB_DIR}</div></div><!-- fragment --><p> This is how you should add Radium-related includes in your project's <code>CMakeLists.txt</code> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;include_directories(</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    ${RADIUM_INCLUDE_DIR} </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    ${EIGEN_INCLUDE_DIR}</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    ${ASSIMP_INCLUDE_DIR}</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;)</div></div><!-- fragment --><p>And this is how you add the Radium libraries to your linker (with the dependent libraries): </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Libs directory include</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;link_directories(</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    ${RADIUM_LIB_DIR}</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;)</div></div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Link libraries</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;target_link_libraries( ${EXEC_FILE}  # target</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    ${RADIUM_LIBRARIES}              # Radium libs</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    ${GLBINDING_LIBRARIES}           # GLbinding</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    ${Qt5_LIBRARIES}                 # QT libraries</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;)</div></div><!-- fragment --><p>Then build Radium (here, in debug) using the following commands (for Linux): </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd external</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mkdir build-radium-debug</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cd build-radium-debug</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cmake ../Radium-Engine -DCMAKE_BUILD_TYPE=Debug</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;make -j8</div></div><!-- fragment --><h2>Add Radium to your project using <code>ExternaProject_Add</code> and in-project build.</h2>
<p>You can add Radium to your project cmake process with <code>ExternalProject_Add</code>, customizing some options.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;include(ExternalProject)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;option(MY_WITH_OMP              &quot;Use OpenMP&quot; ON)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;option(MY_WARNINGS_AS_ERRORS    &quot;Treat compiler warning as errors&quot; OFF)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;option(MY_ASSIMP_SUPPORT        &quot;Enable assimp loader&quot; ON)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;option(MY_TINYPLY_SUPPORT       &quot;Enable TinyPly loader&quot; OFF)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;option(MY_BUILD_APPS            &quot;Choose to build or not radium applications&quot; OFF)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;option(MY_FAST_MATH &quot;Enable Fast Math optimizations in Release Mode (ignored with MVSC)&quot; OFF)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;# add Radium with the options you want to override</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;ExternalProject_Add(</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        Radium</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        # where the source will live</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        SOURCE_DIR &quot;${CMAKE_CURRENT_SOURCE_DIR}/external/Radium-Engine&quot;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        # set the compilation options</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        CMAKE_ARGS</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;            -DRADIUM_WARNINGS_AS_ERRORS=${MY_WARNINGS_AS_ERRORS}</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;            -DRADIUM_ASSIMP_SUPPORT=${MY_ASSIMP_SUPPORT}</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;            -DRADIUM_TINYPLY_SUPPORT=${MY_TINYPLY_SUPPORT}</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            -DRADIUM_BUILD_APPS=${MY_BUILD_APPS}</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            -DRADIUM_FAST_MATH=${MY_FAST_MATH}</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            -DCMAKE_C_COMPILER=${CMAKE_C_COMPILER}</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            -DCMAKE_CXX_COMPILER=${CMAKE_CXX_COMPILER}</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;            -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    # skip the install step </div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    INSTALL_COMMAND cmake -E echo &quot;Skipping install step.&quot;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;)</div></div><!-- fragment --><p> Then you have to setup manually all the variables that would have been set up by <code>find_package</code>: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;${RADIUM_INCLUDE_DIR}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;${EIGEN_INCLUDE_DIR}</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;${ASSIMP_INCLUDE_DIR}</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;${RADIUM_LIB_DIR}</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;${RADIUM_LIBRARIES}</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;${GLBINDING_LIBRARIES}</div></div><!-- fragment --><p> For instance : </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;set( CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/external/Radium-Engine/cmake )</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;set( RADIUM_ROOT_DIR &quot;${CMAKE_CURRENT_SOURCE_DIR}/external/Radium-Engine&quot; )</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;set( EIGEN3_INCLUDE_DIR  &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/3rdPartyLibraries/include&quot;)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;set( GLM_INCLUDE_DIR     &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/3rdPartyLibraries/include&quot;)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;set( ASSIMP_LIBRARIES    &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/3rdPartyLibraries/lib/libassimp.so&quot;)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;set( GLBINDING_LIBRARIES &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/3rdPartyLibraries/lib/libglbinding.so&quot;)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;set( GLOBJECTS_LIBRARIES &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/3rdPartyLibraries/lib/libglobjects.so&quot;)</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;set( OPENMESH_LIBRARIES  &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/3rdPartyLibraries/lib/libOpenMeshCore.so&quot;)</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;set( RADIUM_PLUGIN_OUTPUT_PATH &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}//${CMAKE_BUILD_TYPE}/bin/Plugins&quot; )</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;set( RADIUM_INCLUDE_DIRS )</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;list(APPEND RADIUM_INCLUDE_DIRS &quot;${RADIUM_ROOT_DIR}/src&quot; &quot;${EIGEN3_INCLUDE_DIR}&quot; &quot;${ASSIMP_INCLUDE_DIR}&quot; &quot;${GLBINDING_INCLUDE_DIR}&quot; &quot;${GLOBJECTS_INCLUDE_DIR}&quot;)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;set( RA_CORE_LIB    &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/${CMAKE_BUILD_TYPE}/lib/libradiumCore.so&quot; )</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;set( RA_ENGINE_LIB  &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/${CMAKE_BUILD_TYPE}/lib/libradiumEngine.so&quot; )</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;set( RA_IO_LIB      &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/${CMAKE_BUILD_TYPE}/lib/libradiumIO.so&quot; )</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;set( RA_GUIBASE_LIB &quot;${RADIUM_ROOT_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}/${CMAKE_BUILD_TYPE}/lib/libradiumGuiBase.so&quot; )</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;set( RADIUM_LIBRARIES  )</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;list(APPEND RADIUM_LIBRARIES &quot;${RA_CORE_LIB}&quot; &quot;${RA_ENGINE_LIB}&quot; &quot;${RA_IO_LIB}&quot; &quot;${RA_GUIBASE_LIB}&quot;)</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Sep 27 2019 09:50:35 for Radium Engine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
